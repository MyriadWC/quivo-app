{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { useEffect, useState, useContext } from \"react\";\nimport { FontAwesome } from \"@expo/vector-icons\";\nimport UserContext from \"../contexts/UserContext\";\nimport * as constants from \"../constants\";\nimport client from \"../utils/axios\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar LanguageItem = function LanguageItem(_ref) {\n  var item = _ref.item,\n    addButton = _ref.addButton;\n  var flagImageMap = {\n    'ru': require(\"../assets/ru.png\"),\n    'de': require(\"../assets/de.png\"),\n    'es': require(\"../assets/es.png\"),\n    'fr': require(\"../assets/fr.png\")\n  };\n  return _jsxs(View, {\n    style: styles.languageItemContainer,\n    children: [_jsx(Image, {\n      style: styles.languageItemImage,\n      source: flagImageMap[item.language_code]\n    }), _jsx(View, {\n      style: styles.languageItemLabel,\n      children: _jsx(Text, {\n        style: styles.languageItemLabelText,\n        children: item.language_name\n      })\n    }), addButton && _jsx(TouchableOpacity, {\n      activeOpacity: 1,\n      style: styles.languageItemAddButton,\n      onPress: function onPress() {},\n      children: _jsx(FontAwesome, {\n        name: \"plus\",\n        size: 20,\n        color: constants.PRIMARYCOLOR\n      })\n    })]\n  });\n};\nexport default function AccountLanguagesScreen(_ref2) {\n  var navigation = _ref2.navigation;\n  var _useContext = useContext(UserContext),\n    currentUser = _useContext.currentUser;\n  var _useState = useState([{\n      id: 0,\n      language_code: 'de',\n      language_name: 'German'\n    }, {\n      id: 0,\n      language_code: 'fr',\n      language_name: 'French'\n    }]),\n    _useState2 = _slicedToArray(_useState, 2),\n    knownLanguages = _useState2[0],\n    setKnownLanguages = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    unknownLanguages = _useState4[0],\n    setUnknownLanguages = _useState4[1];\n  var fetchAllLanguages = function fetchAllLanguages() {\n    client.get(\"/api/languages\", {\n      withCredentials: true\n    }).then(function (res) {\n      var allLanguages = res.data;\n      var unknownLanguages = allLanguages.filter(function (item2) {\n        return !knownLanguages.some(function (item1) {\n          return item1.language_code === item2.language_code;\n        });\n      });\n      setUnknownLanguages(unknownLanguages);\n    }).catch(function (error) {});\n  };\n  useEffect(function () {\n    fetchAllLanguages();\n  }, []);\n  return _jsxs(SafeAreaView, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.subContainer,\n      children: [_jsx(Text, {\n        style: styles.title,\n        children: \"Your Languages\"\n      }), _jsx(FlatList, {\n        data: knownLanguages,\n        bounces: false,\n        renderItem: function renderItem(_ref3) {\n          var item = _ref3.item;\n          return _jsx(LanguageItem, {\n            item: item,\n            addButton: false\n          });\n        }\n      })]\n    }), _jsxs(View, {\n      style: styles.subContainer,\n      children: [_jsx(Text, {\n        style: styles.title,\n        children: \"More Languages\"\n      }), _jsx(FlatList, {\n        data: unknownLanguages,\n        bounces: false,\n        renderItem: function renderItem(_ref4) {\n          var item = _ref4.item;\n          return _jsx(LanguageItem, {\n            item: item,\n            addButton: true\n          });\n        }\n      })]\n    })]\n  });\n}\n;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    borderColor: constants.SECONDARYCOLOR,\n    borderWidth: 3,\n    borderRadius: 20,\n    overflow: 'hidden',\n    marginHorizontal: 16\n  },\n  subContainer: {},\n  title: {\n    fontSize: constants.H2FONTSIZE,\n    fontFamily: constants.FONTFAMILYBOLD,\n    backgroundColor: constants.SECONDARYCOLOR,\n    width: '100%',\n    textAlign: 'center',\n    marginBottom: 10,\n    padding: 5\n  },\n  languageItemContainer: {\n    borderBottomColor: constants.SECONDARYCOLOR,\n    flexDirection: 'row',\n    borderBottomWidth: 3,\n    padding: 10\n  },\n  languageItemImage: {\n    width: 80,\n    height: 55,\n    borderRadius: 8\n  },\n  languageItemLabel: {\n    paddingHorizontal: 15\n  },\n  languageItemLabelText: {\n    fontSize: constants.H2FONTSIZE,\n    fontFamily: constants.FONTFAMILY,\n    marginTop: 'auto',\n    marginBottom: 'auto'\n  },\n  languageItemAddButton: {\n    borderWidth: 3,\n    borderColor: constants.PRIMARYCOLOR,\n    padding: 5,\n    width: 35,\n    height: 35,\n    borderRadius: 10,\n    marginTop: 'auto',\n    marginBottom: 'auto',\n    marginLeft: 'auto',\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n});","map":{"version":3,"names":["useEffect","useState","useContext","FontAwesome","UserContext","constants","client","jsx","_jsx","jsxs","_jsxs","LanguageItem","_ref","item","addButton","flagImageMap","require","View","style","styles","languageItemContainer","children","Image","languageItemImage","source","language_code","languageItemLabel","Text","languageItemLabelText","language_name","TouchableOpacity","activeOpacity","languageItemAddButton","onPress","name","size","color","PRIMARYCOLOR","AccountLanguagesScreen","_ref2","navigation","_useContext","currentUser","_useState","id","_useState2","_slicedToArray","knownLanguages","setKnownLanguages","_useState3","_useState4","unknownLanguages","setUnknownLanguages","fetchAllLanguages","get","withCredentials","then","res","allLanguages","data","filter","item2","some","item1","catch","error","SafeAreaView","container","subContainer","title","FlatList","bounces","renderItem","_ref3","_ref4","StyleSheet","create","flex","borderColor","SECONDARYCOLOR","borderWidth","borderRadius","overflow","marginHorizontal","fontSize","H2FONTSIZE","fontFamily","FONTFAMILYBOLD","backgroundColor","width","textAlign","marginBottom","padding","borderBottomColor","flexDirection","borderBottomWidth","height","paddingHorizontal","FONTFAMILY","marginTop","marginLeft","justifyContent","alignItems"],"sources":["C:/Users/Toby Usher/Documents/dev/quivo-app/frontend/screens/AccountLanguagesScreen.tsx"],"sourcesContent":["import { View, Text, Image, StyleSheet, SafeAreaView, TouchableOpacity, FlatList } from \"react-native\"\r\nimport { useEffect, useState, useContext } from \"react\"\r\nimport { NativeStackHeaderProps } from \"@react-navigation/native-stack\"\r\nimport { FontAwesome } from \"@expo/vector-icons\"\r\nimport UserContext from '../contexts/UserContext';\r\nimport * as constants from \"../constants\";\r\nimport client from \"../utils/axios\";\r\n\r\ninterface ILanguageItem {\r\n    item: {\r\n        id: number,\r\n        language_code: string,\r\n        language_name: string\r\n    },\r\n    addButton: boolean\r\n}\r\n\r\nconst LanguageItem = ({ item, addButton }: ILanguageItem) => {\r\n\r\n    // Can't render image paths dynamically at runtime so I have\r\n    // to map the language codes to their locally stored flag\r\n    // image. Need to look into a better solution\r\n    const flagImageMap = {\r\n        'ru': require('../assets/ru.png'),\r\n        'de': require('../assets/de.png'),\r\n        'es': require('../assets/es.png'),\r\n        'fr': require('../assets/fr.png'),\r\n        // add more languages here\r\n    };\r\n\r\n    return (\r\n        <View style={styles.languageItemContainer}>\r\n            <Image\r\n                style={styles.languageItemImage}\r\n                source={flagImageMap[item.language_code]}\r\n            />\r\n            <View style={styles.languageItemLabel}>\r\n                <Text style={styles.languageItemLabelText}>\r\n                    {item.language_name}\r\n                </Text>\r\n            </View>\r\n            {addButton &&\r\n            <TouchableOpacity\r\n                activeOpacity={1}\r\n                style={styles.languageItemAddButton}\r\n                onPress={() => {}}\r\n            >\r\n                <FontAwesome name='plus' size={20} color={constants.PRIMARYCOLOR} />\r\n            </TouchableOpacity>\r\n            }\r\n        </View>\r\n    );\r\n}\r\n\r\nexport default function AccountLanguagesScreen({navigation}: NativeStackHeaderProps) {\r\n\r\n    const { currentUser } = useContext(UserContext);\r\n    \r\n    // No user languages currently so this is a placeholder\r\n    const [knownLanguages, setKnownLanguages] = useState([\r\n        {\r\n            id: 0,\r\n            language_code: 'de',\r\n            language_name: 'German'\r\n        }, \r\n        {\r\n            id: 0,\r\n            language_code: 'fr',\r\n            language_name: 'French'\r\n        }]);\r\n    const [unknownLanguages, setUnknownLanguages] = useState([]);\r\n    \r\n    // Can definitely cache this rather than fetch it every time\r\n    const fetchAllLanguages = () => {\r\n        client.get(\"/api/languages\", { withCredentials: true })\r\n        .then(function(res) {\r\n            const allLanguages = res.data;\r\n            \r\n            // Remove languages user already knows\r\n            const unknownLanguages = allLanguages.filter(\r\n                item2 => !knownLanguages.some(\r\n                    item1 => item1.language_code === item2.language_code\r\n                )\r\n            );\r\n\r\n            setUnknownLanguages(unknownLanguages);\r\n        })\r\n        .catch(function(error) {\r\n        });\r\n    };\r\n    \r\n    useEffect(() => {\r\n        fetchAllLanguages();\r\n    }, []);\r\n    \r\n    return (\r\n        <SafeAreaView style={styles.container}>\r\n            <View style={styles.subContainer}>\r\n                <Text style={styles.title}>Your Languages</Text>\r\n                <FlatList\r\n                    data={knownLanguages}\r\n                    bounces={false}\r\n                    renderItem={({item}) => <LanguageItem item={item} addButton={false}/>}\r\n                />\r\n            </View>\r\n            <View style={styles.subContainer}>\r\n                <Text style={styles.title}>More Languages</Text>\r\n                <FlatList\r\n                    data={unknownLanguages}\r\n                    bounces={false}\r\n                    renderItem={({item}) => <LanguageItem item={item} addButton={true} />}\r\n                />\r\n            </View>\r\n        </SafeAreaView>\r\n    );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        borderColor: constants.SECONDARYCOLOR,\r\n        borderWidth: 3,\r\n        borderRadius: 20,\r\n        overflow: 'hidden',\r\n        //marginTop: StatusBar.currentHeight,\r\n        marginHorizontal: 16,\r\n    },\r\n    subContainer: {\r\n    },\r\n    title: {\r\n        fontSize: constants.H2FONTSIZE,\r\n        fontFamily: constants.FONTFAMILYBOLD,\r\n        backgroundColor: constants.SECONDARYCOLOR,\r\n        width: '100%',\r\n        textAlign: 'center',\r\n        marginBottom: 10,\r\n        padding: 5\r\n    },\r\n\r\n    // LanguageItem\r\n    languageItemContainer: {\r\n        borderBottomColor: constants.SECONDARYCOLOR,\r\n        flexDirection: 'row',\r\n        borderBottomWidth: 3,\r\n        padding: 10\r\n    },\r\n    languageItemImage: {\r\n        width: 80,\r\n        height: 55,\r\n        borderRadius: 8,\r\n    },\r\n    languageItemLabel: {\r\n        paddingHorizontal: 15\r\n    },\r\n    languageItemLabelText: {\r\n        fontSize: constants.H2FONTSIZE,\r\n        fontFamily: constants.FONTFAMILY,\r\n        marginTop: 'auto',\r\n        marginBottom: 'auto'\r\n    },\r\n    languageItemAddButton: {\r\n        borderWidth: 3,\r\n        borderColor: constants.PRIMARYCOLOR,\r\n        padding: 5,\r\n        width: 35,\r\n        height: 35,\r\n        borderRadius: 10,\r\n        marginTop: 'auto',\r\n        marginBottom: 'auto',\r\n        marginLeft: 'auto',\r\n        justifyContent: 'center',\r\n        alignItems: 'center'\r\n    },\r\n\r\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}