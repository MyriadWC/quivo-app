{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { SearchBar } from \"react-native-elements\";\nimport { useState, useEffect, useContext } from \"react\";\nimport UserContext from \"../contexts/UserContext\";\nimport FollowButton from \"../components/FollowButton\";\nimport { FontAwesome } from \"@expo/vector-icons\";\nimport * as constants from \"../constants\";\nimport client from \"../utils/axios\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function SearchUserScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useContext = useContext(UserContext),\n    currentUser = _useContext.currentUser,\n    setCurrentUser = _useContext.setCurrentUser;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    users = _useState2[0],\n    setUsers = _useState2[1];\n  useEffect(function () {\n    getUsers();\n  }, []);\n  var getUsers = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        var res = yield client.get('api/users');\n        setUsers(res.data);\n      } catch (e) {\n        console.error(e);\n      }\n    });\n    return function getUsers() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsxs(SafeAreaView, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.searchFieldContainer,\n      children: [_jsx(View, {\n        style: styles.searchBarContainer,\n        children: _jsx(SearchBar, {\n          inputStyle: {\n            backgroundColor: constants.SECONDARYCOLOR\n          },\n          containerStyle: {\n            backgroundColor: constants.SECONDARYCOLOR,\n            borderWidth: 0,\n            padding: 0\n          },\n          inputContainerStyle: {\n            backgroundColor: constants.SECONDARYCOLOR\n          },\n          placeholderTextColor: constants.GREY,\n          placeholder: 'Search by username'\n        })\n      }), _jsx(TouchableOpacity, {\n        style: styles.searchButton,\n        children: _jsx(View, {\n          style: styles.searchButtonIconContainer,\n          children: _jsx(FontAwesome, {\n            name: \"search\",\n            size: 25,\n            color: constants.TERTIARYCOLOR\n          })\n        })\n      })]\n    }), _jsx(FlatList, {\n      style: styles.userList,\n      data: users,\n      bounces: false,\n      renderItem: function renderItem(_ref3) {\n        var item = _ref3.item;\n        return _jsxs(View, {\n          style: styles.userListItem,\n          children: [_jsx(View, {\n            style: styles.username,\n            children: _jsx(Text, {\n              style: styles.usernameText,\n              children: item.username\n            })\n          }), _jsx(View, {\n            style: styles.followButtonContainer,\n            children: _jsx(FollowButton, {\n              initUserIsFollowing: item.user_is_following,\n              followee_id: item.user_id\n            })\n          })]\n        });\n      }\n    })]\n  });\n}\n;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    marginHorizontal: 20\n  },\n  searchFieldContainer: {\n    flexDirection: 'row',\n    borderWidth: 2\n  },\n  searchBarContainer: {\n    width: 100\n  },\n  searchButton: {\n    backgroundColor: constants.PRIMARYCOLOR,\n    alignSelf: \"flex-end\",\n    width: 60,\n    borderRadius: 10,\n    height: 60,\n    justifyContent: 'center'\n  },\n  searchButtonIconContainer: {\n    marginLeft: 'auto',\n    marginRight: 'auto'\n  },\n  userList: {\n    height: \"100%\",\n    marginTop: 10\n  },\n  userListItem: {\n    flexDirection: \"row\",\n    justifyContent: 'space-between',\n    backgroundColor: constants.SECONDARYCOLOR,\n    borderRadius: 10,\n    marginBottom: 5,\n    padding: 10\n  },\n  username: {\n    alignSelf: \"flex-start\"\n  },\n  usernameText: {\n    fontSize: constants.H3FONTSIZE\n  },\n  followButton: {\n    alignSelf: \"flex-end\",\n    backgroundColor: constants.PRIMARYCOLOR,\n    padding: 10,\n    borderRadius: 10\n  },\n  followButtonText: {\n    fontSize: constants.CONTENTFONTSIZE,\n    color: constants.TERTIARYCOLOR\n  }\n});","map":{"version":3,"names":["SearchBar","useState","useEffect","useContext","UserContext","FollowButton","FontAwesome","constants","client","jsx","_jsx","jsxs","_jsxs","SearchUserScreen","_ref","navigation","_useContext","currentUser","setCurrentUser","_useState","_useState2","_slicedToArray","users","setUsers","getUsers","_ref2","_asyncToGenerator","res","get","data","e","console","error","apply","arguments","SafeAreaView","style","styles","container","children","View","searchFieldContainer","searchBarContainer","inputStyle","backgroundColor","SECONDARYCOLOR","containerStyle","borderWidth","padding","inputContainerStyle","placeholderTextColor","GREY","placeholder","TouchableOpacity","searchButton","searchButtonIconContainer","name","size","color","TERTIARYCOLOR","FlatList","userList","bounces","renderItem","_ref3","item","userListItem","username","Text","usernameText","followButtonContainer","initUserIsFollowing","user_is_following","followee_id","user_id","StyleSheet","create","flex","marginHorizontal","flexDirection","width","PRIMARYCOLOR","alignSelf","borderRadius","height","justifyContent","marginLeft","marginRight","marginTop","marginBottom","fontSize","H3FONTSIZE","followButton","followButtonText","CONTENTFONTSIZE"],"sources":["C:/Users/Toby Usher/Documents/dev/quivo-app/frontend/screens/SearchUserScreen.tsx"],"sourcesContent":["import { View, Text, TouchableOpacity, StyleSheet, SafeAreaView, FlatList } from \"react-native\";\r\nimport { SearchBar } from \"react-native-elements\";\r\nimport { useState, useEffect, useContext } from \"react\";\r\nimport UserContext from '../contexts/UserContext';\r\nimport FollowButton from \"../components/FollowButton\"\r\nimport { NativeStackHeaderProps } from \"@react-navigation/native-stack\";\r\nimport { FontAwesome } from \"@expo/vector-icons\";\r\nimport * as constants from \"../constants\";\r\nimport client from \"../utils/axios\";\r\n\r\nexport default function SearchUserScreen({navigation}: NativeStackHeaderProps) {\r\n\r\n    //Not sure if you can import hook setters like this but it didn't seem to work\r\n    const { currentUser, setCurrentUser } = useContext(UserContext);\r\n    \r\n    // pour l'instant je veux simplement montrer une liste de tous les utilisateurs\r\n    const [users, setUsers] = useState([]);\r\n      \r\n    useEffect(() => {\r\n        getUsers();\r\n    }, []);\r\n\r\n    const getUsers = async () => {\r\n        try {\r\n            const res = await client.get('api/users');\r\n            setUsers(res.data);\r\n        } catch (e) {\r\n            console.error(e);\r\n        }\r\n        };\r\n\r\n    return (\r\n        <SafeAreaView style={styles.container}>\r\n            <View style={styles.searchFieldContainer}>\r\n                <View style={styles.searchBarContainer}>\r\n                    <SearchBar\r\n                        inputStyle={{backgroundColor: constants.SECONDARYCOLOR}}\r\n                        containerStyle={{backgroundColor: constants.SECONDARYCOLOR, borderWidth: 0, padding: 0}}\r\n                        inputContainerStyle={{backgroundColor: constants.SECONDARYCOLOR}}\r\n                        placeholderTextColor={constants.GREY}\r\n                        placeholder={'Search by username'}\r\n                    />\r\n                </View>\r\n                <TouchableOpacity style={styles.searchButton}>\r\n                    <View style={styles.searchButtonIconContainer}>\r\n                        <FontAwesome name=\"search\" size={25} color={constants.TERTIARYCOLOR} />\r\n                        </View>\r\n                </TouchableOpacity>\r\n            </View>\r\n            <FlatList\r\n                style={styles.userList}\r\n                data={users}\r\n                bounces={false}\r\n                //keyExtractor={(item) => item.username}\r\n                renderItem={({ item }) => (\r\n                    <View style={styles.userListItem}>\r\n                        <View style={styles.username}>\r\n                            <Text style={styles.usernameText}>\r\n                                {item.username}\r\n                            </Text>\r\n                        </View>\r\n                        <View style={styles.followButtonContainer}>\r\n                            <FollowButton \r\n                                initUserIsFollowing={item.user_is_following}\r\n                                followee_id={item.user_id}\r\n                            />\r\n                        </View>\r\n                    </View>\r\n                )}\r\n                />\r\n        </SafeAreaView>\r\n    );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        //paddingTop: StatusBar.currentHeight,\r\n        marginHorizontal: 20,\r\n    },\r\n    searchFieldContainer: {\r\n        flexDirection: 'row',\r\n        borderWidth: 2\r\n    },\r\n    searchBarContainer: {\r\n        width: 100\r\n    },\r\n    searchButton: {\r\n        backgroundColor: constants.PRIMARYCOLOR,\r\n        alignSelf: \"flex-end\",\r\n        width: 60,\r\n        borderRadius: 10,\r\n        height: 60,\r\n        justifyContent: 'center',\r\n        \r\n    },\r\n    searchButtonIconContainer: {\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto'\r\n    },\r\n    userList: {\r\n        height: \"100%\",\r\n        marginTop: 10,\r\n    },\r\n    userListItem: {\r\n        flexDirection: \"row\",\r\n        justifyContent: 'space-between',\r\n        backgroundColor: constants.SECONDARYCOLOR,\r\n        borderRadius: 10,\r\n        //borderRadius: 5,\r\n        marginBottom: 5,\r\n        padding: 10\r\n    },\r\n    username: {\r\n        alignSelf: \"flex-start\"\r\n    },\r\n    usernameText: {\r\n        fontSize: constants.H3FONTSIZE\r\n    },\r\n    followButton: {\r\n        alignSelf: \"flex-end\",\r\n        backgroundColor: constants.PRIMARYCOLOR,\r\n        padding: 10,\r\n        borderRadius: 10\r\n    },\r\n    followButtonText: {\r\n        fontSize: constants.CONTENTFONTSIZE,\r\n        color: constants.TERTIARYCOLOR\r\n    }\r\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}