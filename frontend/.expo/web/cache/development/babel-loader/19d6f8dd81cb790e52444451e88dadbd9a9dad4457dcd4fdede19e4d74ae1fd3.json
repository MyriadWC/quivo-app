{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\Toby Usher\\\\Documents\\\\dev\\\\quivo-app\\\\frontend\\\\screens\\\\LevelScreen\\\\index.tsx\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { useContext } from \"react\";\nimport * as constants from '../../constants';\nimport UserContext from '../../contexts/UserContext';\nimport { avatarImageMap, avatarLevelUnlock } from '../../assets/avatars/avatarMaps';\nimport { generateBuckets } from '../../utils/functions';\nimport { calcLevel } from \"../../utils/functions\";\nimport NavBar from \"../../components/NavBar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LevelScreen(_ref) {\n  var _this = this;\n  var navigation = _ref.navigation;\n  var _useContext = useContext(UserContext),\n    currentUser = _useContext.currentUser,\n    knownLanguages = _useContext.knownLanguages,\n    knownWords = _useContext.knownWords,\n    currentLanguage = _useContext.currentLanguage;\n  var _generateBuckets = generateBuckets(30000, 100, 50),\n    buckets = _generateBuckets.buckets,\n    cumBuckets = _generateBuckets.cumBuckets;\n  var _calcLevel = calcLevel(knownWords, 30000),\n    level = _calcLevel.level,\n    knownWordsInLevel = _calcLevel.knownWordsInLevel;\n  var renderImage = function renderImage(image) {\n    return _jsxDEV(Image, {\n      source: image,\n      style: styles.avatarImage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }, _this);\n  };\n  var renderLevelItem = function renderLevelItem(bucketSize, itemLevel) {\n    return _jsxDEV(View, {\n      style: _objectSpread({\n        backgroundColor: itemLevel < level ? constants.PURPLEREGULAR : constants.PURPLEREGULAR + '55'\n      }, styles.itemContainer),\n      children: [itemLevel == level && _jsxDEV(View, {\n        style: _objectSpread({\n          width: 80 * (knownWordsInLevel / bucketSize)\n        }, styles.itemProgressBackground)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 13\n      }, _this), _jsxDEV(Text, {\n        style: styles.levelText,\n        children: [\"Lv. \", itemLevel]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }, _this), _jsxDEV(Text, {\n        style: styles.wordsText,\n        children: [itemLevel <= level ? itemLevel == level ? knownWordsInLevel : bucketSize : 0, \" / \", bucketSize]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }, _this), avatarLevelUnlock.hasOwnProperty(itemLevel) && _jsxDEV(View, {\n        style: styles.avatarImagesContainer,\n        children: avatarLevelUnlock[itemLevel].map(function (imageCode) {\n          return renderImage(avatarImageMap[imageCode]);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }, _this);\n  };\n  return _jsxDEV(ScrollView, {\n    style: styles.container,\n    bounces: false,\n    showsVerticalScrollIndicator: false,\n    showsHorizontalScrollIndicator: false,\n    overScrollMode: \"never\",\n    removeClippedSubviews: true,\n    children: [_jsxDEV(NavBar, {\n      title: 'Level ' + level,\n      navigation: navigation\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this), _jsxDEV(View, {\n      style: styles.itemsContainer,\n      children: buckets.map(function (item, idx) {\n        return renderLevelItem(item, idx + 1);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\nvar styles = StyleSheet.create({\n  container: {\n    marginTop: 50,\n    marginHorizontal: 20\n  },\n  itemsContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    alignContent: 'center',\n    justifyContent: 'center',\n    marginHorizontal: -10\n  },\n  itemContainer: {\n    flexDirection: 'column',\n    overflow: 'hidden',\n    margin: '1%',\n    borderRadius: 10,\n    width: '22%',\n    height: 100\n  },\n  itemProgressBackground: {\n    backgroundColor: constants.PURPLEREGULAR,\n    height: 100,\n    marginBottom: -100\n  },\n  levelText: {\n    backgroundColor: constants.TERTIARYCOLOR,\n    color: constants.PURPLEREGULAR,\n    fontFamily: constants.FONTFAMILYBOLD,\n    borderRadius: 5,\n    margin: 5,\n    textAlign: 'center',\n    padding: 5\n  },\n  wordsText: {\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    fontFamily: constants.FONTFAMILY,\n    color: constants.BLACK\n  },\n  avatarImagesContainer: {\n    flexDirection: 'row',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    marginTop: 'auto',\n    marginBottom: 5\n  },\n  avatarImage: {\n    width: 25,\n    height: 25\n  }\n});","map":{"version":3,"names":["useContext","constants","UserContext","avatarImageMap","avatarLevelUnlock","generateBuckets","calcLevel","NavBar","jsxDEV","_jsxDEV","LevelScreen","_ref","_this","navigation","_useContext","currentUser","knownLanguages","knownWords","currentLanguage","_generateBuckets","buckets","cumBuckets","_calcLevel","level","knownWordsInLevel","renderImage","image","Image","source","style","styles","avatarImage","fileName","_jsxFileName","lineNumber","columnNumber","renderLevelItem","bucketSize","itemLevel","View","_objectSpread","backgroundColor","PURPLEREGULAR","itemContainer","children","width","itemProgressBackground","Text","levelText","wordsText","hasOwnProperty","avatarImagesContainer","map","imageCode","ScrollView","container","bounces","showsVerticalScrollIndicator","showsHorizontalScrollIndicator","overScrollMode","removeClippedSubviews","title","itemsContainer","item","idx","StyleSheet","create","marginTop","marginHorizontal","flexDirection","flexWrap","alignContent","justifyContent","overflow","margin","borderRadius","height","marginBottom","TERTIARYCOLOR","color","fontFamily","FONTFAMILYBOLD","textAlign","padding","marginLeft","marginRight","FONTFAMILY","BLACK"],"sources":["C:/Users/Toby Usher/Documents/dev/quivo-app/frontend/screens/LevelScreen/index.tsx"],"sourcesContent":["import { View, Image, Text, StyleSheet, ScrollView } from \"react-native\";\r\nimport { useContext } from \"react\";\r\nimport PNG from 'pngjs';\r\nimport { NativeStackHeaderProps } from \"@react-navigation/native-stack\";\r\n// Constants\r\nimport * as constants from '../../constants';\r\n// Contexts\r\nimport UserContext from '../../contexts/UserContext';\r\n// Assets\r\nimport { avatarImageMap, avatarLevelUnlock } from '../../assets/avatars/avatarMaps';\r\n// Utils\r\nimport { generateBuckets } from '../../utils/functions';\r\nimport { calcLevel } from \"../../utils/functions\";\r\n// Components\r\nimport NavBar from \"../../components/NavBar\";\r\n\r\nexport default function LevelScreen({navigation}: NativeStackHeaderProps) {\r\n\r\n    const { currentUser, knownLanguages, knownWords, currentLanguage } = useContext(UserContext);\r\n    const {buckets, cumBuckets} = generateBuckets(30000, 100, 50);\r\n    const { level, knownWordsInLevel} = calcLevel(knownWords, 30000);\r\n\r\n    const renderImage = (image: PNG) => (\r\n        <Image source={image} style={styles.avatarImage} />\r\n    );\r\n\r\n    const renderLevelItem = (bucketSize: number, itemLevel: number) => (\r\n        <View style={{\r\n            backgroundColor: itemLevel < level ? constants.PURPLEREGULAR : constants.PURPLEREGULAR + '55',\r\n            ...styles.itemContainer\r\n        }}>\r\n            {itemLevel == level && \r\n            <View style={{\r\n                width: 80 * (knownWordsInLevel / bucketSize),\r\n                ...styles.itemProgressBackground\r\n            }}></View>\r\n            }\r\n            <Text style={styles.levelText}>Lv. {itemLevel}</Text>\r\n            <Text style={styles.wordsText}>\r\n                {itemLevel <= level ? itemLevel == level ? knownWordsInLevel : bucketSize : 0} / {bucketSize}\r\n            </Text>\r\n            {avatarLevelUnlock.hasOwnProperty(itemLevel) &&\r\n            <View style={styles.avatarImagesContainer}>\r\n                {avatarLevelUnlock[itemLevel].map(imageCode => renderImage(avatarImageMap[imageCode]))}\r\n            </View>\r\n            }\r\n        </View>\r\n    );\r\n\r\n    return (\r\n    <ScrollView\r\n        style={styles.container}\r\n        bounces={false}\r\n        showsVerticalScrollIndicator={false} \r\n        showsHorizontalScrollIndicator={false}\r\n        overScrollMode=\"never\"\r\n        removeClippedSubviews={true}\r\n        >\r\n        <NavBar title={'Level ' + level} navigation={navigation} />\r\n        <View style={styles.itemsContainer}>\r\n            {buckets.map((item, idx) => renderLevelItem(item, idx + 1))}\r\n        </View>\r\n    </ScrollView>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        marginTop: 50,\r\n        marginHorizontal: 20,\r\n    },\r\n    itemsContainer: {\r\n        flexDirection: 'row',\r\n        flexWrap: 'wrap',\r\n        alignContent: 'center',\r\n        justifyContent: 'center',\r\n        marginHorizontal: -10\r\n    },\r\n    itemContainer: {\r\n        flexDirection: 'column',\r\n        overflow: 'hidden',\r\n        margin: '1%',\r\n        borderRadius: 10,\r\n        width: '22%',\r\n        height: 100,\r\n    },\r\n    itemProgressBackground: {\r\n        backgroundColor: constants.PURPLEREGULAR,\r\n        height: 100,\r\n        marginBottom: -100,\r\n    },\r\n    levelText: {\r\n        backgroundColor: constants.TERTIARYCOLOR,\r\n        color: constants.PURPLEREGULAR,\r\n        fontFamily: constants.FONTFAMILYBOLD,\r\n        borderRadius: 5,\r\n        margin: 5,\r\n        textAlign: 'center',\r\n        padding: 5\r\n    },\r\n    wordsText: {\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n        fontFamily: constants.FONTFAMILY,\r\n        color: constants.BLACK\r\n    },\r\n    avatarImagesContainer: {\r\n        flexDirection: 'row',\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n        marginTop: 'auto',\r\n        marginBottom: 5\r\n    },\r\n    avatarImage: {\r\n        width: 25,\r\n        height: 25\r\n    }\r\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}